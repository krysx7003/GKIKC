<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Lab7 WebGL</title>
    <link rel="stylesheet" href="css/style.css">
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gl-matrix/2.8.1/gl-matrix-min.js"
      integrity="sha512-zhHQR0/H5SEBL3Wn6yYSaTTZej12z0hVZKOv3TwCUXT1z5qeqGcXJLLrbERYRScEDDpYIJhPC1fk31gqR783iQ=="
      crossorigin="anonymous"
      defer></script>
    <script src="js/init-buffers.js"></script>
    <script src="js/draw-scene.js"></script>
    <script src="js/Lab7.js"></script>
  </head>

  <body onload="main()">
    <div class="container">
      <form>
        <input type="checkbox" id="cube"> Sześcian
        <input type="checkbox" id="tetrahedron"> Czworościan
      </form>
      <form>
        <input type="checkbox" id="rotateX"> Rotacja X
        <input type="checkbox" id="rotateY"> Rotacja Y
        <input type="checkbox" id="rotateZ"> Rotacja Z
      </form>
      <div class="slidecontainer">
          <input type="range" min="1" max="100" value="50" class="slider" id="speedRange">
      </div>
      <canvas id="gl-canvas"></canvas>
      <script>
        document.getElementById("rotateX").checked = false;
        document.getElementById("rotateX").addEventListener("change", (event) => {
          rotateX = event.target.checked;
          console.log("Rotate X:", rotateX);
        });
        document.getElementById("rotateY").checked = false;
        document.getElementById("rotateY").addEventListener("change", (event) => {
          rotateY = event.target.checked; 
          console.log("Rotate Y:", rotateY);
        });
        document.getElementById("rotateZ").checked = false;
        document.getElementById("rotateZ").addEventListener("change", (event) => {
          rotateZ = event.target.checked;
          console.log("Rotate Z:", rotateZ);
        });
        document.getElementById("cube").checked = true;
        document.getElementById("cube").addEventListener("change", (event) => {
          if (event.target.checked) {
              selectedShape = "cube";
              document.getElementById("tetrahedron").checked = false;
              [prevX, rotationX] = [rotationX, prevX];
              [prevY, rotationY] = [rotationY, prevY];
              [prevZ, rotationZ] = [rotationZ, prevZ];
              console.log("Selected shape:", selectedShape);
          }
        });
        document.getElementById("tetrahedron").checked = false;
        document.getElementById("tetrahedron").addEventListener("change", (event) => {
          if (event.target.checked) {
              selectedShape = "tetrahedron"; 
              document.getElementById("cube").checked = false;
              [prevX, rotationX] = [rotationX, prevX];
              [prevY, rotationY] = [rotationY, prevY];
              [prevZ, rotationZ] = [rotationZ, prevZ];
              console.log("Selected shape:", selectedShape);
          }
        });
        document.getElementById("speedRange").value = speed;
        document.getElementById("speedRange").addEventListener("input", (event) => {
          speed = event.target.value;
          console.log("Rotation speed:", speed);
        });
      </script>
    </div>
  </body>
</html>
